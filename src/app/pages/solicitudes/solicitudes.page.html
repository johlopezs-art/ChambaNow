<app-header-menu title="Crear Solicitud"></app-header-menu>

<ion-content class="ion-padding bg-light">

  <div class="ion-text-center ion-margin-bottom">
    <h2>Publicar Trabajo</h2>
    <p class="ion-text-muted">Detalla lo que necesitas</p>
  </div>

  <form [formGroup]="form" (ngSubmit)="crearSolicitud()">
    
    <ion-card class="form-card">
      <ion-card-content>
        
        <!-- Título -->
        <ion-item fill="outline" class="custom-input ion-margin-bottom">
          <ion-icon slot="start" name="briefcase-outline" color="primary"></ion-icon>
          <ion-input 
            label="Nombre del Trabajo" 
            labelPlacement="floating"
            formControlName="titulo" 
            placeholder="Ej: Se busca Pintor"
            mode="md">
          </ion-input>
        </ion-item>
        <ion-note color="danger" *ngIf="form.get('titulo')?.invalid && form.get('titulo')?.touched" class="ion-margin-bottom d-block">
          Mínimo 5 caracteres.
        </ion-note>

        <!-- Profesión -->
        <ion-item fill="outline" class="custom-input ion-margin-bottom">
          <ion-icon slot="start" name="hammer-outline" color="primary"></ion-icon>
          <ion-input 
            label="Profesión / Ocupación" 
            labelPlacement="floating"
            formControlName="profesion" 
            placeholder="Ej: Pintor, Albañil"
            mode="md">
          </ion-input>
        </ion-item>

        <!-- Sueldo -->
        <ion-item fill="outline" class="custom-input ion-margin-bottom">
          <ion-icon slot="start" name="cash-outline" color="primary"></ion-icon>
          <ion-input 
            label="Sueldo Ofrecido" 
            labelPlacement="floating"
            formControlName="sueldo" 
            type="text" 
            placeholder="$ CLP"
            mode="md">
          </ion-input>
        </ion-item>

        <!-- Especificación -->
        <ion-item fill="outline" class="custom-input ion-margin-bottom">
          <ion-icon slot="start" name="document-text-outline" color="primary" class="ion-align-self-start ion-margin-top"></ion-icon>
          <ion-textarea 
            label="Especificación del Trabajo" 
            labelPlacement="floating"
            formControlName="especificacion" 
            rows="4" 
            placeholder="Describe los detalles..."
            mode="md">
          </ion-textarea>
        </ion-item>
        <ion-note color="danger" *ngIf="form.get('especificacion')?.invalid && form.get('especificacion')?.touched">
          Mínimo 10 caracteres.
        </ion-note>

      </ion-card-content>
    </ion-card>

    <div class="ion-padding">
      <ion-button expand="block" type="submit" size="large" [disabled]="form.invalid" shape="round">
        Publicar Solicitud
        <ion-icon slot="end" name="save-outline"></ion-icon>
      </ion-button>
    </div>

  </form>
</ion-content>